(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{2376:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3464);let s=()=>localStorage.getItem("token"),a=n.A.create({baseURL:"https://adminapi.kvkd.tj/",headers:"application/json"});a.interceptors.request.use(e=>{let t=s();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(document.location.href="./login",console.warn("Unauthorized, redirecting to login...")),Promise.reject(e)});let i=a},2494:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(5155),s=r(6811),a=r(5695),i=r(2115),l=r(8262);function o(){let e=(0,a.useRouter)(),[t,r]=(0,i.useState)(),{getItems:o}=(0,l.t)(),{setDataMony:c}=(0,l.x)();(0,i.useEffect)(()=>{localStorage.getItem("token")||e.replace("/login")},[e]);let d=async()=>{let e=await o("leadership/list");e?r(e):console.warn("res is null")};return(0,i.useEffect)(()=>{d()},[]),(0,n.jsx)("div",{className:"news",children:(0,n.jsx)("main",{children:(0,n.jsx)("div",{className:"news-content",children:t?(0,n.jsx)(s.A,{editOptions:{url:"/adding-leadership",setData:c,getUrl:"leadership/list"},deleteOptions:{url:"leadership/delete",get:d},Items:t,headerTable:["","Сарлавҳа"],styleHeader:{gridTemplateColumns:"100px 200px"},styleItem:{gridTemplateColumns:"100px 1fr 200px"}}):""})})})}},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}}),r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6811:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5155),s=r(2376),a=r(5695);function i(e){let{Items:t,styleHeader:r,styleItem:i,headerTable:l,editOptions:o,deleteOptions:c}=e,d=async(e,t,r)=>{try{let n=s.A.delete("".concat(e,"?id=").concat(r));console.log("res deleted items",n),setTimeout(()=>t(),100)}catch(e){console.error(e)}},u=e=>{(null==o?void 0:o.url)&&(0,a.redirect)("".concat(o.url,"/").concat(e))};return console.log("Items",t),(0,n.jsxs)("div",{className:"section-table",children:[(0,n.jsx)("div",{className:"section-table-header",style:r,children:Array.isArray(l)&&l.map((e,t)=>(0,n.jsx)("div",{children:e},t))}),(0,n.jsx)("div",{className:"section-table-content",children:Array.isArray(t)&&(null==t?void 0:t.map((e,t)=>(0,n.jsxs)("div",{style:i,children:[(0,n.jsx)("img",{src:"".concat("https://adminapi.kvkd.tj/","files/").concat(e.main_photo_id),alt:"img",width:100,height:100}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:e.main_title}),(null==e?void 0:e.main_description)?(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:null==e?void 0:e.main_description}}):""]}),(0,n.jsxs)("div",{children:[(null==o?void 0:o.url)&&(0,n.jsx)("button",{onClick:()=>{u(null==e?void 0:e._id),(0,a.redirect)(o.url)},children:"Тағйир"}),(null==c?void 0:c.url)&&(0,n.jsx)("button",{onClick:()=>d(c.url,c.get,e._id||""),children:"Нест кардан"})]})]},t)))})]})}r(2115)},7982:(e,t,r)=>{Promise.resolve().then(r.bind(r,2494))},8262:(e,t,r)=>{"use strict";r.d(t,{t:()=>i,x:()=>a});var n=r(2376),s=r(5453);let a=(0,s.v)((e,t)=>({data:{},errors:{},setData:(t,r)=>e(e=>({data:{...e.data,[t]:r}})),setClear:()=>e(()=>({data:{}})),setDataMony:t=>e(()=>({data:t})),resetErrors:()=>e({errors:{}}),validate:r=>{let{data:n}=t(),s={};return Object.keys(r).forEach(e=>{let t=r[e],a=n[e];if(t.required&&(""===a||null==a)){s[e]=t.message||" Ин ҷои ҳатмист";return}if("string"==typeof a){if(t.minLength&&a.length<t.minLength){s[e]=t.message||"Камтар аз ".concat(t.minLength," аломат набояд бошад");return}if(t.maxLength&&a.length>t.maxLength){s[e]=t.message||"Аз ".concat(t.maxLength," аломат зиёд набояд бошад");return}if(t.pattern&&!t.pattern.test(a)){s[e]=t.message||"Формати нодуруст";return}}if("number"==typeof a){if(void 0!==t.min&&a<t.min){s[e]=t.message||"Аниқати камтарин: ".concat(t.min);return}if(void 0!==t.max&&a>t.max){s[e]=t.message||"Аниқати бештарин: ".concat(t.max);return}}}),e({errors:s}),0===Object.keys(s).length}})),i=(0,s.v)(()=>({getItems:async(e,t)=>{try{return(await n.A.get("".concat(e).concat(t?"/".concat(t):""))).data}catch(e){return console.error(e),null}}}))}},e=>{var t=t=>e(e.s=t);e.O(0,[604,441,684,358],()=>t(7982)),_N_E=e.O()}]);