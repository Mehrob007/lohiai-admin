(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{2376:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3464);let a=()=>localStorage.getItem("token"),s=n.A.create({baseURL:"https://adminapi.kvkd.tj/",headers:"application/json"});s.interceptors.request.use(e=>{let t=a();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(document.location.href="./login",console.warn("Unauthorized, redirecting to login...")),Promise.reject(e)});let i=s},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}}),r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},5699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(5155),a=r(6811),s=r(5695),i=r(2115),l=r(8262);function c(){let e=(0,s.useRouter)(),[t,r]=(0,i.useState)(),{getItems:c}=(0,l.t)(),{setDataMony:o}=(0,l.x)();(0,i.useEffect)(()=>{localStorage.getItem("token")||e.replace("/login")},[e]);let d=async()=>{let e=await c("pedagogical-council/list");e?r(e):console.warn("res is null")};return(0,i.useEffect)(()=>{d()},[]),(0,n.jsx)("div",{className:"news",children:(0,n.jsx)("main",{children:(0,n.jsx)("div",{className:"news-content",children:t?(0,n.jsx)(a.A,{editOptions:{url:"/adding-pedagogical-council",setData:o,getUrl:"pedagogical-council/list"},deleteOptions:{url:"pedagogical-council/delete",get:d},Items:t,headerTable:["","Сарлавҳа"],styleHeader:{gridTemplateColumns:"100px 200px"},styleItem:{gridTemplateColumns:"100px 1fr 200px"}}):""})})})}},6811:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5155),a=r(2376),s=r(5695);function i(e){let{Items:t,styleHeader:r,styleItem:i,headerTable:l,editOptions:c,deleteOptions:o}=e,d=async(e,t,r)=>{try{let n=a.A.delete("".concat(e,"?id=").concat(r));console.log("res deleted items",n),setTimeout(()=>t(),100)}catch(e){console.error(e)}},u=e=>{(null==c?void 0:c.url)&&(0,s.redirect)("".concat(c.url,"/").concat(e))};return console.log("Items",t),(0,n.jsxs)("div",{className:"section-table",children:[(0,n.jsx)("div",{className:"section-table-header",style:r,children:Array.isArray(l)&&l.map((e,t)=>(0,n.jsx)("div",{children:e},t))}),(0,n.jsx)("div",{className:"section-table-content",children:Array.isArray(t)&&(null==t?void 0:t.map((e,t)=>(0,n.jsxs)("div",{style:i,children:[(0,n.jsx)("img",{src:"".concat("https://adminapi.kvkd.tj/","files/").concat(e.main_photo_id),alt:"img",width:100,height:100}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:e.main_title}),(null==e?void 0:e.main_description)?(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:null==e?void 0:e.main_description}}):""]}),(0,n.jsxs)("div",{children:[(null==c?void 0:c.url)&&(0,n.jsx)("button",{onClick:()=>{u(null==e?void 0:e._id),(0,s.redirect)(c.url)},children:"Тағйир"}),(null==o?void 0:o.url)&&(0,n.jsx)("button",{onClick:()=>d(o.url,o.get,e._id||""),children:"Нест кардан"})]})]},t)))})]})}r(2115)},8262:(e,t,r)=>{"use strict";r.d(t,{t:()=>i,x:()=>s});var n=r(2376),a=r(5453);let s=(0,a.v)((e,t)=>({data:{},errors:{},setData:(t,r)=>e(e=>({data:{...e.data,[t]:r}})),setClear:()=>e(()=>({data:{}})),setDataMony:t=>e(()=>({data:t})),resetErrors:()=>e({errors:{}}),validate:r=>{let{data:n}=t(),a={};return Object.keys(r).forEach(e=>{let t=r[e],s=n[e];if(t.required&&(""===s||null==s)){a[e]=t.message||" Ин ҷои ҳатмист";return}if("string"==typeof s){if(t.minLength&&s.length<t.minLength){a[e]=t.message||"Камтар аз ".concat(t.minLength," аломат набояд бошад");return}if(t.maxLength&&s.length>t.maxLength){a[e]=t.message||"Аз ".concat(t.maxLength," аломат зиёд набояд бошад");return}if(t.pattern&&!t.pattern.test(s)){a[e]=t.message||"Формати нодуруст";return}}if("number"==typeof s){if(void 0!==t.min&&s<t.min){a[e]=t.message||"Аниқати камтарин: ".concat(t.min);return}if(void 0!==t.max&&s>t.max){a[e]=t.message||"Аниқати бештарин: ".concat(t.max);return}}}),e({errors:a}),0===Object.keys(a).length}})),i=(0,a.v)(()=>({getItems:async(e,t)=>{try{return(await n.A.get("".concat(e).concat(t?"/".concat(t):""))).data}catch(e){return console.error(e),null}}}))},8517:(e,t,r)=>{Promise.resolve().then(r.bind(r,5699))}},e=>{var t=t=>e(e.s=t);e.O(0,[604,441,684,358],()=>t(8517)),_N_E=e.O()}]);