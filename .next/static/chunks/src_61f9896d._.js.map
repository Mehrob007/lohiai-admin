{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/sk/dev/front-end/lohiai-admin/src/components/SectionTable.tsx"],"sourcesContent":["import apiClient from \"@/utils/apiClient\";\n// import Image from \"next/image\";\nimport { redirect } from \"next/navigation\";\nimport React from \"react\";\n\ninterface itemChildren {\n  description: string;\n  photo_id: string;\n}\n\nexport interface Item {\n  [key: string]: string | number | Array<itemChildren>;\n}\ninterface styles {\n  [key: string]: string;\n}\n// interface ApiResponse {\n//   data: Item[] | null;\n//   hasMore: boolean;\n//   next_id: number;\n// }\ninterface sectionTable {\n  styleHeader?: styles;\n  styleItem?: styles;\n  Items: Item[] | undefined;\n  headerTable: string[] | undefined;\n  editOptions?: { url: string; getUrl: string; setData: (item: Item) => void };\n  deleteOptions?: { url: string; get: () => Promise<void> };\n}\n\nexport default function SectionTable({\n  Items,\n  styleHeader,\n  styleItem,\n  headerTable,\n  editOptions,\n  deleteOptions,\n}: sectionTable) {\n  const deleteItem = async (\n    url: string,\n    get: () => Promise<void>,\n    id: string\n  ) => {\n    try {\n      const res = apiClient.delete(`${url}?id=${id}`);\n      console.log(\"res deleted items\", res);\n      setTimeout(() => get(), 100);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const editItem = (\n    id: string\n    // getUrl: string\n  ) => {\n    if (editOptions?.url) {\n      redirect(`${editOptions.url}/${id}`);\n    }\n  };\n  console.log(\"Items\", Items);\n\n  return (\n    <div className=\"section-table\">\n      <div className=\"section-table-header\" style={styleHeader}>\n        {Array.isArray(headerTable) &&\n          headerTable.map((e, i) => <div key={i}>{e}</div>)}\n      </div>\n      <div className=\"section-table-content\">\n        {Array.isArray(Items) &&\n          Items?.map((item, i) => (\n            <div key={i} style={styleItem}>\n              <img\n                src={`${process.env.NEXT_PUBLIC_API_URL}files/${item.main_photo_id}`}\n                alt=\"img\"\n                width={100}\n                height={100}\n              />\n              <div>\n                <h1>{item.main_title as string}</h1>\n                {/* <p>{item.main_description as string}</p> */}\n                {item?.main_description ? (\n                  <div\n                    dangerouslySetInnerHTML={{\n                      __html: item?.main_description as string,\n                    }}\n                  />\n                ) : (\n                  \"\"\n                )}\n              </div>\n              <div>\n                {editOptions?.url && (\n                  <button\n                    onClick={() => {\n                      editItem(\n                        item?._id as string\n                        // editOptions?.getUrl as string,\n                      );\n                      redirect(editOptions.url);\n                    }}\n                  >\n                    Тағйир\n                  </button>\n                )}\n                {deleteOptions?.url && (\n                  <button\n                    onClick={() =>\n                      deleteItem(\n                        deleteOptions.url,\n                        deleteOptions.get,\n                        (item._id as string) || \"\"\n                      )\n                    }\n                  >\n                    Нест кардан\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;AAwEwB;;AAxExB;AACA,kCAAkC;AAClC;;;;AA4Be,SAAS,aAAa,EACnC,KAAK,EACL,WAAW,EACX,SAAS,EACT,WAAW,EACX,WAAW,EACX,aAAa,EACA;IACb,MAAM,aAAa,OACjB,KACA,KACA;QAEA,IAAI;YACF,MAAM,MAAM,4HAAA,CAAA,UAAS,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI;YAC9C,QAAQ,GAAG,CAAC,qBAAqB;YACjC,WAAW,IAAM,OAAO;QAC1B,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;QAChB;IACF;IACA,MAAM,WAAW,CACf;QAGA,IAAI,aAAa,KAAK;YACpB,CAAA,GAAA,qIAAA,CAAA,WAAQ,AAAD,EAAE,GAAG,YAAY,GAAG,CAAC,CAAC,EAAE,IAAI;QACrC;IACF;IACA,QAAQ,GAAG,CAAC,SAAS;IAErB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;gBAAuB,OAAO;0BAC1C,MAAM,OAAO,CAAC,gBACb,YAAY,GAAG,CAAC,CAAC,GAAG,kBAAM,6LAAC;kCAAa;uBAAJ;;;;;;;;;;0BAExC,6LAAC;gBAAI,WAAU;0BACZ,MAAM,OAAO,CAAC,UACb,OAAO,IAAI,CAAC,MAAM,kBAChB,6LAAC;wBAAY,OAAO;;0CAClB,6LAAC;gCACC,KAAK,iEAAmC,MAAM,EAAE,KAAK,aAAa,EAAE;gCACpE,KAAI;gCACJ,OAAO;gCACP,QAAQ;;;;;;0CAEV,6LAAC;;kDACC,6LAAC;kDAAI,KAAK,UAAU;;;;;;oCAEnB,MAAM,iCACL,6LAAC;wCACC,yBAAyB;4CACvB,QAAQ,MAAM;wCAChB;;;;;+CAGF;;;;;;;0CAGJ,6LAAC;;oCACE,aAAa,qBACZ,6LAAC;wCACC,SAAS;4CACP,SACE,MAAM;4CAGR,CAAA,GAAA,qIAAA,CAAA,WAAQ,AAAD,EAAE,YAAY,GAAG;wCAC1B;kDACD;;;;;;oCAIF,eAAe,qBACd,6LAAC;wCACC,SAAS,IACP,WACE,cAAc,GAAG,EACjB,cAAc,GAAG,EACjB,AAAC,KAAK,GAAG,IAAe;kDAG7B;;;;;;;;;;;;;uBA3CG;;;;;;;;;;;;;;;;AAqDtB;KA7FwB","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///home/sk/dev/front-end/lohiai-admin/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport SectionTable from \"@/components/SectionTable\";\nimport { useRouter } from \"next/navigation\";\nimport React, { useEffect, useState } from \"react\";\nimport { useFormStore, useFunctions } from \"../hooks/useFormStore\";\n\ninterface itemChildren {\n  description: string;\n  photo_id: string;\n}\n\ninterface itemGetNews {\n  [key: string]: string | number | Array<itemChildren>;\n}\n\nexport default function News() {\n  const router = useRouter();\n  const [data, setData] = useState<itemGetNews[] | null>();\n  const { getItems } = useFunctions();\n  const { setDataMony } = useFormStore();\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n    } else router.replace(\"/login\");\n  }, [router]);\n  const getData = async (): Promise<void> => {\n    const res = await getItems(\"news/list\");\n    if (res) {\n      const data = res;\n      // console.log(\"res\", res.News);\n      setData(data);\n    } else {\n      console.warn(\"res is null\");\n    }\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"news\">\n      <main>\n        <div className=\"news-content\">\n          {data ? (\n            <SectionTable\n              editOptions={{\n                url: \"/adding-news\",\n                setData: setDataMony,\n                getUrl: \"news/list\",\n              }}\n              deleteOptions={{ url: \"news/delete\", get: getData }}\n              Items={data}\n              headerTable={[\"\", \"Сарлавҳа\"]}\n              styleHeader={{ gridTemplateColumns: \"100px 200px\" }}\n              styleItem={{ gridTemplateColumns: \"100px 1fr 200px\" }}\n            />\n          ) : (\n            \"\"\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAee,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;IAC/B,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,eAAY,AAAD;IAChC,MAAM,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,eAAY,AAAD;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO,CACX,OAAO,OAAO,OAAO,CAAC;QACxB;yBAAG;QAAC;KAAO;IACX,MAAM,UAAU;QACd,MAAM,MAAM,MAAM,SAAS;QAC3B,IAAI,KAAK;YACP,MAAM,OAAO;YACb,gCAAgC;YAChC,QAAQ;QACV,OAAO;YACL,QAAQ,IAAI,CAAC;QACf;IACF;IACA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR;QACF;yBAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;sBACC,cAAA,6LAAC;gBAAI,WAAU;0BACZ,qBACC,6LAAC,qIAAA,CAAA,UAAY;oBACX,aAAa;wBACX,KAAK;wBACL,SAAS;wBACT,QAAQ;oBACV;oBACA,eAAe;wBAAE,KAAK;wBAAe,KAAK;oBAAQ;oBAClD,OAAO;oBACP,aAAa;wBAAC;wBAAI;qBAAW;oBAC7B,aAAa;wBAAE,qBAAqB;oBAAc;oBAClD,WAAW;wBAAE,qBAAqB;oBAAkB;;;;;2BAGtD;;;;;;;;;;;;;;;;AAMZ;GAjDwB;;QACP,qIAAA,CAAA,YAAS;QAEH,+HAAA,CAAA,eAAY;QACT,+HAAA,CAAA,eAAY;;;KAJd","debugId":null}}]
}